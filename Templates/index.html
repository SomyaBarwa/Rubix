<!DOCTYPE html>
<html lang="en">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>Document</title>
    <link rel="stylesheet" href="/Static/dycalendar.css">
    <link rel="stylesheet" href="/Static/styles.css">
    <style>
        .container {
            padding: 2rem 0rem;
            position: absolute;
            top:25rem;
            left:6rem;
        }

        h4 {
            margin: 2rem 0rem 1rem;
        }
        .table-image td {

            vertical-align: middle;
        }
        .table-image th {

            vertical-align: middle;
        }

    </style>

</head>
<body style="background: #eff6e0;">
  <section>
    <div class="boxing">
      <div class="contain">
          <div id="dycalendar"></div>
      </div>  
    </div>
  </section>

  <div class="container" id="table">
    <div class="row">
      <div class="col-12">
        <table class="table table-light table-bordered table-hover">
          <thead class="table-dark">
            <tr>
              <th scope="col">Habit</th>
              <th scope="col">18th Jan</th>
              <th scope="col">19th Jan</th>
              <th scope="col">20th Jan</th>
              <th scope="col">21st Jan</th>
              <th scope="col">22nd Jan</th>
            </tr>
          </thead>
          <tbody">
            <tr>
              <td>Meditation</td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="m1" checked name="cb">
                  <label class="custom-control-label" for="m1"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="m2" unchecked name="cb">
                  <label class="custom-control-label" for="m2"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="m3" checked name="cb">
                  <label class="custom-control-label" for="m3"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="m4" checked name="cb">
                  <label class="custom-control-label" for="m4"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="m5" unchecked name="cb">
                  <label class="custom-control-label" for="m5"></label>
                </div>
              </td>
            </tr>
            <tr>
              <td>Exercise</td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="e1" checked name="cb">
                  <label class="custom-control-label" for="e1"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="e2" checked name="cb">
                  <label class="custom-control-label" for="e2"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="e3" checked name="cb">
                  <label class="custom-control-label" for="e3"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="e4" checked name="cb">
                  <label class="custom-control-label" for="e4"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="e5" unchecked name="cb">
                  <label class="custom-control-label" for="e5"></label>
                </div>
              </td>
            </tr>
            <tr>
              <td>Sleep Cycle</td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="s1" checked name="cb">
                  <label class="custom-control-label" for="s1"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="s2" unchecked name="cb">
                  <label class="custom-control-label" for="s2"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="s3" checked name="cb">
                  <label class="custom-control-label" for="s3"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="s4" unchecked name="cb">
                  <label class="custom-control-label" for="s4"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="s5" checked name="cb">
                  <label class="custom-control-label" for="s5"></label>
                </div>
              </td>
            </tr>
            <tr>
              <td>Balanced Diet</td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="b1" checked name="cb">
                  <label class="custom-control-label" for="b1"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="b2" unchecked name="cb">
                  <label class="custom-control-label" for="b2"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="b3" checked name="cb">
                  <label class="custom-control-label" for="b3"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="b4" checked name="cb">
                  <label class="custom-control-label" for="b4"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="b5" unchecked name="cb">
                  <label class="custom-control-label" for="b5"></label>
                </div>
              </td>
            </tr>
            <tr>
              <td>Hobby</td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="h1" checked name="cb">
                  <label class="custom-control-label" for="h1"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="h2" unchecked name="cb">
                  <label class="custom-control-label" for="h2"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="h3"  name="cb">
                  <label class="custom-control-label" for="h3"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="h4" checked name="cb">
                  <label class="custom-control-label" for="h4"></label>
                </div>
              </td>
              <td>
                <div class="custom-control custom-checkbox text-center">
                  <input type="checkbox" class="custom-control-input" id="h5" unchecked name="cb">
                  <label class="custom-control-label" for="h5"></label>
                </div>
              </td>
            </tr>
            </tbody>
        </table>
      </div>
    </div>
  </div> 

  <script src="/Static/dycalendar.js"></script>
  <script>
      dycalendar.draw({
          target: '#dycalendar',
          type: 'month',
          dayformat: 'full',
          monthformat: 'full',
          highlighttargetdate: true,
          prevnextbutton: 'show'
      })
  </script>
  
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
      <canvas id="myChart" style="width:100%;max-width:700px"></canvas>
      <script>
        var checkboxes = document.querySelectorAll("input[type=checkbox][name=cb]");
        let enabledSettings = []

        // Use Array.forEach to add an event listener to each checkbox.
        checkboxes.forEach(function(checkbox) {
          checkbox.addEventListener('change', function() {
            enabledSettings = 
              Array.from(checkboxes) // Convert checkboxes to an array to use filter and map.
              .filter(i => i.checked) // Use Array.filter to remove unchecked checkboxes.
              .map(i => i.id) // Use Array.map to extract only the checkbox values from the array of objects.
              
            console.log(enabledSettings)

            let yValues = []
            for(let i=0; i<6; i++)
            {
              yValues.push(0);
            }

            console.log(yValues)
            for(let i=0; i<enabledSettings.length; i++)
            {
              //console.log(enabledSettings[i])
              yValues[enabledSettings[i][1]-1]+=20;
              console.log(enabledSettings[i][1])
            }

            var xValues = ["18th Jan", "19th Jan", "20th Jan", "21st Jan", "22nd Jan"];
            //var yValues = [55, 49, 44, 24, 15,0];
            //yValues = y;
            var barColors = ["green", "orange", "red", "blue", "black"];

            new Chart("myChart", {
              type: "bar",
              data: {
                labels: xValues,
                datasets: [{
                  backgroundColor: barColors,
                  data: yValues
                }]
              },
              options: {
                legend: {display: false},
                title: {
                  display: true,
                  text: "Daily Performance"
                }
              }
            });        
          })
        });


      </script>
</body>
</html>
